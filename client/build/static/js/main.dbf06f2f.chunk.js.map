{"version":3,"sources":["actions/index.js","actions/types.js","components/Payments.js","components/Header.js","components/Landing.js","components/App.js","reducers/index.js","reducers/authReducer.js","index.js"],"names":["fetchUser","dispatch","a","axios","get","res","type","payload","data","handleToken","token","post","Payments","name","description","amount","props","stripeKey","process","className","Component","connect","actions","Header","this","auth","href","key","style","credits","to","renderContent","Landing","textAlign","Dashboard","SurveyNew","App","exact","path","component","combineReducers","state","action","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render","document","getElementById"],"mappings":"6YAGaA,EAAY,WACrB,8CAAO,WAAOC,GAAP,eAAAC,EAAA,sEACeC,IAAMC,IAAI,qBADzB,OACGC,EADH,OAGHJ,EAAS,CAACK,KCPQ,aDOUC,QAASF,EAAIG,OAHtC,2CAAP,uDAOSC,EAAc,SAAAC,GACvB,8CAAO,WAAMT,GAAN,eAAAC,EAAA,sEACeC,IAAMQ,KAAK,cAAeD,GADzC,OACGL,EADH,OAGHJ,EAAS,CAACK,KCfQ,aDeUC,QAASF,EAAIG,OAHtC,2CAAP,uD,iBEPEI,E,uKACQ,IAAD,OAEL,OACI,kBAAC,IAAD,CACIC,KAAK,WACLC,YAAY,yBACZC,OAAQ,IACRL,MAAO,SAAAA,GAAK,OAAI,EAAKM,MAAMP,YAAYC,IACvCO,UAAWC,8CAEX,4BAAQC,UAAU,OAAlB,oB,GAXOC,aAmBRC,cAAQ,KAAMC,EAAdD,CAAuBT,GCnBhCW,E,8KAEE,OAAQC,KAAKR,MAAMS,MACf,KAAK,KACD,MAAO,iBACX,KAAK,EACD,OAAO,4BAAI,uBAAGC,KAAK,gBAAR,sBACf,QACI,MAAO,CACH,wBAAIC,IAAI,KAAI,kBAAC,EAAD,OACZ,wBAAIA,IAAI,IAAGC,MAAO,CAAE,OAAU,WAA9B,WAAkDJ,KAAKR,MAAMS,KAAKI,SAClE,wBAAIF,IAAI,KAAI,uBAAGD,KAAK,eAAR,e,+BAMxB,OACI,6BACI,yBAAKP,UAAU,eACX,kBAAC,IAAD,CAAMW,GAAIN,KAAKR,MAAMS,KAAO,WAAa,IAAKN,UAAU,mBAAxD,YAGA,wBAAIA,UAAU,SACTK,KAAKO,uB,GAxBTX,aAoCNC,mBAJf,YACI,MAAO,CAAEI,KADsB,EAARA,QAIZJ,CAAyBE,GC9BzBS,EATC,WACZ,OACI,yBAAKJ,MAAO,CAACK,UAAW,WACpB,wCADJ,qCCGFC,EAAY,kBAAM,0CAClBC,EAAY,kBAAM,0CAElBC,E,kLAEEZ,KAAKR,MAAMhB,c,+BAIX,OACI,kBAAC,IAAD,KACI,yBAAKmB,UAAU,aACX,kBAAC,EAAD,MACA,kBAAC,IAAD,CAAOkB,OAAK,EAACC,KAAK,IAAIC,UAAWP,IACjC,kBAAC,IAAD,CAAOK,OAAK,EAACC,KAAK,WAAWC,UAAWL,IACxC,kBAAC,IAAD,CAAOI,KAAK,cAAcC,UAAWJ,U,GAZvCf,aAmBHC,cAAQ,KAAMC,EAAdD,CAAuBe,GC1BvBI,cAAgB,CAC3Bf,KCFW,WAAgC,IAAvBgB,EAAsB,uDAAd,KAAMC,EAAQ,uCAC1C,OAAQA,EAAOpC,MACX,INJkB,aMKd,OAAOoC,EAAOnC,UAAW,EAC7B,QACI,OAAOkC,MCGbE,EAAQC,YAAYC,EAAU,GAAIC,YAAgBC,MAExDC,IAASC,OACL,kBAAC,IAAD,CAAUN,MAAOA,GACb,kBAAC,EAAD,OAEJO,SAASC,eAAe,W","file":"static/js/main.dbf06f2f.chunk.js","sourcesContent":["import axios from 'axios';\nimport { FETCH_USER } from './types';\n\nexport const fetchUser = () => {\n    return async (dispatch) => {\n        const res = await axios.get('/api/current_user');\n        \n        dispatch({type: FETCH_USER, payload: res.data});\n    }\n}\n\nexport const handleToken = token => {\n    return async dispatch => {\n        const res = await axios.post('/api/stripe', token);\n\n        dispatch({type: FETCH_USER, payload: res.data});\n    }\n}","export const FETCH_USER = 'fetch_user';","import React, { Component } from 'react';\nimport StripeCheckout from 'react-stripe-checkout';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\n\nclass Payments extends Component {\n    render() {\n\n        return (\n            <StripeCheckout\n                name=\"Emailzzz\"\n                description=\"$5 for 5 email credits\" \n                amount={500}\n                token={token => this.props.handleToken(token)}\n                stripeKey={process.env.REACT_APP_STRIPE_KEY}\n            >\n                <button className=\"btn\">\n                    Add credits\n                </button>\n            </StripeCheckout>\n        )\n    }\n}\n\nexport default connect(null, actions)(Payments);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport Payments from './Payments';\n\nclass Header extends Component {\n    renderContent() {\n        switch (this.props.auth) {\n            case null:\n                return 'Still deciding';\n            case false:\n                return <li><a href=\"/auth/google\">Login With Google</a></li>\n            default:\n                return [\n                    <li key=\"1\"><Payments /></li>,\n                    <li key=\"2\"style={{ \"margin\": '0 20px'}}>Credits:{this.props.auth.credits}</li>,\n                    <li key=\"3\"><a href=\"/api/logout\">Logout</a></li>\n                ];\n        }\n    }\n\n    render() {\n        return (\n            <nav>\n                <div className=\"nav-wrapper\">\n                    <Link to={this.props.auth ? \"/surveys\" : \"/\"} className=\"left brand-logo\">\n                        Emailzzz\n                    </Link>\n                    <ul className=\"right\">\n                        {this.renderContent()}\n                    </ul>\n                </div>\n            </nav>\n        )\n    }\n}\n\nfunction mapStateToProps({ auth }) {\n    return { auth }\n}\n\nexport default connect(mapStateToProps)(Header);","import React from 'react';\n\nconst Landing = () => {\n    return (\n        <div style={{textAlign: 'center'}}>\n            <h1>Emailzzz</h1>\n            Collect feedback from your users\n        </div>\n    );\n};\n\nexport default Landing;","import React, { Component } from 'react';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\n\nimport Header from './Header';\nimport Landing from './Landing';\nconst Dashboard = () => <h1>Dashboard</h1>\nconst SurveyNew = () => <h1>SurveyNew</h1>\n\nclass App extends Component {\n    componentDidMount() {\n        this.props.fetchUser();\n    }\n\n    render() {\n        return (\n            <BrowserRouter>\n                <div className=\"container\">\n                    <Header />\n                    <Route exact path=\"/\" component={Landing}/>\n                    <Route exact path=\"/surveys\" component={Dashboard}/>\n                    <Route path=\"/survey/new\" component={SurveyNew}/>\n                </div>\n            </BrowserRouter>\n        );\n    };\n}\n\nexport default connect(null, actions)(App);","import { combineReducers } from 'redux';\nimport authReducer from './authReducer';\n\nexport default combineReducers({\n    auth: authReducer\n});","import { FETCH_USER } from '../actions/types';\n\nexport default function(state = null, action) {\n    switch (action.type) {\n        case FETCH_USER:\n            return action.payload || false;\n        default:\n            return state;\n    }\n}","import 'materialize-css/dist/css/materialize.min.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport reduxThunk from 'redux-thunk';\n\nimport App from './components/App';\nimport reducers from './reducers';\n\nconst store = createStore(reducers, {}, applyMiddleware(reduxThunk))\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>, \n    document.getElementById('root')\n);"],"sourceRoot":""}